{"version":3,"sources":["webpack:///src/app/pages/defaulter-checkout/defaulter-checkout.page.html","webpack:///src/app/pages/defaulter-checkout/defaulter-checkout-routing.module.ts","webpack:///src/app/pages/defaulter-checkout/defaulter-checkout.module.ts","webpack:///src/app/pages/defaulter-checkout/defaulter-checkout.page.scss","webpack:///src/app/pages/defaulter-checkout/defaulter-checkout.page.ts"],"names":["routes","path","component","DefaulterCheckoutPageRoutingModule","imports","forChild","exports","DefaulterCheckoutPageModule","declarations","DefaulterCheckoutPage","router","alertCtrl","formsBuilder","httpClient","storage","_checkoutUrl","items","key","checkinItems","nextKey","d","Date","myForm","group","compose","maxLength","minLength","required","console","log","value","getData","headers","append","token","inputs","empId","earlyOutReason","put","subscribe","data","set","JSON","stringify","error","navigate","alertError","get","then","val","undefined","parse","create","header","message","buttons","text","handler","alert","present","selector","template"],"mappings":"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","file":"pages-defaulter-checkout-defaulter-checkout-module-es5.js","sourcesContent":["export default \"<!-- <ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title class=\\\"ion-text-center\\\">Reason Box</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header> -->\\r\\n\\r\\n<ion-content>\\r\\n  <form [formGroup]=\\\"myForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n\\r\\n    <div class=\\\"total\\\" >\\r\\n      <h2 class=\\\"heading\\\"  >Reason Box</h2>  \\r\\n\\r\\n    <ion-item lines=\\\"none\\\">\\r\\n  <ion-label position=\\\"floating\\\" required>\\r\\n    Please fill your reason for Checking out early.\\r\\n  </ion-label>\\r\\n  <br>\\r\\n  <ion-input formControlName=\\\"earlyOutReason\\\" name=\\\"earlyOutReason\\\" auto-grow ></ion-input>\\r\\n</ion-item>\\r\\n<ion-button shape=\\\"round\\\" color=\\\"danger\\\" [disabled]=\\\"!myForm.valid\\\"  (click)=\\\"sendPutRequest()\\\"  type=\\\"submit\\\" expand=\\\"block\\\">Submit</ion-button>\\r\\n</div>\\r\\n</form>\\r\\n</ion-content>\\r\\n\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DefaulterCheckoutPage } from './defaulter-checkout.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DefaulterCheckoutPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DefaulterCheckoutPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule , ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DefaulterCheckoutPageRoutingModule } from './defaulter-checkout-routing.module';\n\nimport { DefaulterCheckoutPage } from './defaulter-checkout.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    DefaulterCheckoutPageRoutingModule\n  ],\n  declarations: [DefaulterCheckoutPage]\n})\nexport class DefaulterCheckoutPageModule {}","export default \"ion-content {\\n  --background: url('1599063952683.JPEG') no-repeat 0 0/100% 100%;\\n  position: relative;\\n  height: auto;\\n  width: 100%;\\n}\\n\\nion-item {\\n  --background: rgba(245, 241, 241, 0.39);\\n  --border-width: 1.5px;\\n}\\n\\n.total {\\n  padding-top: 100px;\\n  margin-left: 45px;\\n  margin-right: 45px;\\n}\\n\\n.heading {\\n  margin-left: 30%;\\n  margin-bottom: 50px;\\n  color: black;\\n  font: 1.5em sans-serif;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZGVmYXVsdGVyLWNoZWNrb3V0L0M6XFxVc2Vyc1xcQklWQVNcXERlc2t0b3BcXGxhdGVzdF9FbXBsb3llZV9tYW5hZ2VtZW50XFxFbXBsb3llZV9tYW5hZ2VtZW50L3NyY1xcYXBwXFxwYWdlc1xcZGVmYXVsdGVyLWNoZWNrb3V0XFxkZWZhdWx0ZXItY2hlY2tvdXQucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9kZWZhdWx0ZXItY2hlY2tvdXQvZGVmYXVsdGVyLWNoZWNrb3V0LnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQTtFQUVFLCtEQUFBO0VBRUEsa0JBQUE7RUFDQSxZQUFBO0VBQ0EsV0FBQTtBQ0ZGOztBRElBO0VBQ0UsdUNBQUE7RUFDQSxxQkFBQTtBQ0RGOztBREdFO0VBQ0Usa0JBQUE7RUFDQyxpQkFBQTtFQUNDLGtCQUFBO0FDQU47O0FERUU7RUFDRSxnQkFBQTtFQUNDLG1CQUFBO0VBQ0MsWUFBQTtFQUNDLHNCQUFBO0FDQ1AiLCJmaWxlIjoic3JjL2FwcC9wYWdlcy9kZWZhdWx0ZXItY2hlY2tvdXQvZGVmYXVsdGVyLWNoZWNrb3V0LnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIiAgXHJcbmlvbi1jb250ZW50IHtcclxuICAvLyAtLWJhY2tncm91bmQ6IHVybChzcmMvYXNzZXRzL2ltZy9SZWdQYWdlLnBuZykgbm8tcmVwZWF0IHRvcCBjZW50ZXIvY292ZXIgZml4ZWQsICNmZmY7XHJcbiAgLS1iYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vdGhlbWUvMTU5OTA2Mzk1MjY4My5KUEVHKSBuby1yZXBlYXQgMCAwLzEwMCUgMTAwJSA7XHJcblxyXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICBoZWlnaHQ6IGF1dG87XHJcbiAgd2lkdGg6IDEwMCU7XHJcbn0gIFxyXG5pb24taXRlbXtcclxuICAtLWJhY2tncm91bmQ6IHJnYmEoMjQ1LCAyNDEsIDI0MSwgMC4zOSk7XHJcbiAgLS1ib3JkZXItd2lkdGg6IDEuNXB4O31cclxuXHJcbiAgLnRvdGFse1xyXG4gICAgcGFkZGluZy10b3A6IDEwMHB4O1xyXG4gICAgIG1hcmdpbi1sZWZ0OjQ1cHg7XHJcbiAgICAgIG1hcmdpbi1yaWdodDo0NXB4O1xyXG4gIH1cclxuICAuaGVhZGluZ3tcclxuICAgIG1hcmdpbi1sZWZ0OjMwJTtcclxuICAgICBtYXJnaW4tYm90dG9tOjUwcHg7XHJcbiAgICAgIGNvbG9yOmJsYWNrO1xyXG4gICAgICAgZm9udDogMS41ZW0gc2Fucy1zZXJpZjtcclxuICB9IiwiaW9uLWNvbnRlbnQge1xuICAtLWJhY2tncm91bmQ6IHVybCguLi8uLi8uLi90aGVtZS8xNTk5MDYzOTUyNjgzLkpQRUcpIG5vLXJlcGVhdCAwIDAvMTAwJSAxMDAlIDtcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xuICBoZWlnaHQ6IGF1dG87XG4gIHdpZHRoOiAxMDAlO1xufVxuXG5pb24taXRlbSB7XG4gIC0tYmFja2dyb3VuZDogcmdiYSgyNDUsIDI0MSwgMjQxLCAwLjM5KTtcbiAgLS1ib3JkZXItd2lkdGg6IDEuNXB4O1xufVxuXG4udG90YWwge1xuICBwYWRkaW5nLXRvcDogMTAwcHg7XG4gIG1hcmdpbi1sZWZ0OiA0NXB4O1xuICBtYXJnaW4tcmlnaHQ6IDQ1cHg7XG59XG5cbi5oZWFkaW5nIHtcbiAgbWFyZ2luLWxlZnQ6IDMwJTtcbiAgbWFyZ2luLWJvdHRvbTogNTBweDtcbiAgY29sb3I6IGJsYWNrO1xuICBmb250OiAxLjVlbSBzYW5zLXNlcmlmO1xufSJdfQ== */\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { Storage } from '@ionic/storage';\nimport { HttpClient,HttpHeaders,HttpRequest} from '@angular/common/http';\nimport { AlertController } from '@ionic/angular';\n\n\n\n@Component({\n  selector: 'app-defaulter-checkout',\n  templateUrl: './defaulter-checkout.page.html',\n  styleUrls: ['./defaulter-checkout.page.scss'],\n})\nexport class DefaulterCheckoutPage implements OnInit {\n\nprivate _checkoutUrl =\"https://emp-manage90.herokuapp.com/attendence/check-out\"\n\n//get items from localstorage items\nitems:any = {};\nkey:string ='items';\ntoken:string;\nempId:string;\n//set checkinItems from localstorage checkinItems\ncheckinItems:any = [];\nnextKey:string ='checkinItems';\n\nd: Date = new Date();\n\n  myForm: FormGroup;\n\n  constructor(private router: Router,private alertCtrl: AlertController,private formsBuilder : FormBuilder,public httpClient:HttpClient,public storage:Storage) { \n    this.myForm = formsBuilder.group({\n    'earlyOutReason':['', Validators.compose([Validators.maxLength(50), Validators.minLength(20), Validators.required])],\n  }); \n}\nonSubmit(){\n  console.log(this.myForm.value);\n}\n  ngOnInit() {\n    this.getData();\n    this.d;\n  }\n\n  sendPutRequest(){\n    const headers = new HttpHeaders()\n      .append('Content-Type', 'application/json')\n      .append('Authorization',\tthis.token)\n      .append('Access-Control-Allow-Headers', 'Content-Type')\n      .append('Access-Control-Allow-Methods', \"GET, POST, DELETE, PUT\")\n      .append('Access-Control-Allow-Origin', '*');\n      \n      let inputs = {\n        \"outTime\":this.d,\n        \"empId\":this.empId,\n        \"earlyOutReason\":this.myForm.value.earlyOutReason\n\n      }\n      this.httpClient.put(this._checkoutUrl,inputs,{headers} )\n        .subscribe(data => {\n          console.log(data);\n          this.checkinItems = data;\n            this.storage.set(this.nextKey,JSON.stringify(this.checkinItems));\n            if(!this.checkinItems.error){\n              this.router.navigate(['user-home'])\n               }else{\n                 this.alertError();\n               }\n          }, error => {\n          console.log(error);\n        });\n  }\n  getData(){\n    this.storage.get(this.key).then((val)=>{\n      if(val!=null && val!=undefined){\n        this.items =JSON.parse(val);\n        console.log(this.items.data.empId);\n        this.token =this.items.token;\n        this.empId =this.items.data.empId;\n      }\n    })\n  }\n\n  async alert(){\n    const alert = await this.alertCtrl.create({\n      header: 'successfull',\n      message: 'check out successfully',\n      buttons: [{\n        text: 'Ok',\n            handler: () => {\n              this.router.navigate(['/user-home']);\n            }\n      }]\n    });\n    await alert.present();\n  }\n\n  async alertError(){\n    const alert = await this.alertCtrl.create({\n      header: 'Unseccessfull',\n      message: this.checkinItems.message,\n      buttons: [{\n        text: 'Ok',\n            handler: () => {\n              this.router.navigate(['/user-home']);\n            }\n      }]\n    });\n    await alert.present();\n  }\n}\n"]}