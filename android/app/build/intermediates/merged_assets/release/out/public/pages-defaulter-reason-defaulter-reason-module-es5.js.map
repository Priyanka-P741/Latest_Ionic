{"version":3,"sources":["webpack:///src/app/pages/defaulter-reason/defaulter-reason.page.html","webpack:///src/app/pages/defaulter-reason/defaulter-reason-routing.module.ts","webpack:///src/app/pages/defaulter-reason/defaulter-reason.module.ts","webpack:///src/app/pages/defaulter-reason/defaulter-reason.page.scss","webpack:///src/app/pages/defaulter-reason/defaulter-reason.page.ts"],"names":["routes","path","component","DefaulterReasonPageRoutingModule","imports","forChild","exports","DefaulterReasonPageModule","declarations","DefaulterReasonPage","router","geolocation","alertCtrl","formsBuilder","httpClient","storage","_checkinUrl","items","key","checkinItems","nextKey","d","Date","myForm","group","compose","maxLength","minLength","required","console","log","value","getCurrentPosition","then","resp","lat","coords","latitude","lon","longitude","getData","loadMap","headers","append","token","inputs","empId","lateInReason","post","subscribe","data","set","JSON","stringify","error","alert","alertError","get","val","undefined","parse","create","header","message","buttons","text","handler","navigate","present","selector","template"],"mappings":"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","file":"pages-defaulter-reason-defaulter-reason-module-es5.js","sourcesContent":["export default \"<!-- <ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title class=\\\"ion-text-center\\\">Reason Box</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header> -->\\r\\n\\r\\n<ion-content>\\r\\n  <form [formGroup]=\\\"myForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n\\r\\n    <div class=\\\"total\\\" >\\r\\n      <h2 class=\\\"heading\\\"  >Reason Box</h2>  \\r\\n\\r\\n    <ion-item lines=\\\"none\\\">\\r\\n  <ion-label position=\\\"floating\\\" required>\\r\\n  Please fill your reason for late Check-In.\\r\\n  </ion-label>\\r\\n  <br>\\r\\n  <ion-input formControlName=\\\"lateInReason\\\" name=\\\"lateInReason\\\" auto-grow ></ion-input>\\r\\n</ion-item>\\r\\n<ion-button shape=\\\"round\\\" color=\\\"danger\\\" [disabled]=\\\"!myForm.valid\\\"  (click)=\\\"sendPostRequest()\\\"  type=\\\"submit\\\" color=\\\"danger\\\" expand=\\\"block\\\">OK</ion-button>\\r\\n</div>\\r\\n</form>\\r\\n</ion-content>\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DefaulterReasonPage } from './defaulter-reason.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DefaulterReasonPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DefaulterReasonPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule , ReactiveFormsModule } from '@angular/forms';\n\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DefaulterReasonPageRoutingModule } from './defaulter-reason-routing.module';\n\nimport { DefaulterReasonPage } from './defaulter-reason.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    DefaulterReasonPageRoutingModule\n  ],\n  declarations: [DefaulterReasonPage]\n})\nexport class DefaulterReasonPageModule {}\n","export default \"ion-content {\\n  --background: url('1599063952683.JPEG') no-repeat 0 0/100% 100%;\\n  position: relative;\\n  height: auto;\\n  width: 100%;\\n}\\n\\nion-item {\\n  --background: rgba(238, 223, 223, 0.39);\\n  --border-width: 1.5px;\\n}\\n\\n.total {\\n  padding-top: 100px;\\n  margin-left: 45px;\\n  margin-right: 45px;\\n}\\n\\n.heading {\\n  margin-left: 30%;\\n  margin-bottom: 50px;\\n  color: black;\\n  font: 1.5em sans-serif;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZGVmYXVsdGVyLXJlYXNvbi9DOlxcVXNlcnNcXEJJVkFTXFxEZXNrdG9wXFxsYXRlc3RfRW1wbG95ZWVfbWFuYWdlbWVudFxcRW1wbG95ZWVfbWFuYWdlbWVudC9zcmNcXGFwcFxccGFnZXNcXGRlZmF1bHRlci1yZWFzb25cXGRlZmF1bHRlci1yZWFzb24ucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9kZWZhdWx0ZXItcmVhc29uL2RlZmF1bHRlci1yZWFzb24ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUUsK0RBQUE7RUFFQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FDREY7O0FER0E7RUFDRSx1Q0FBQTtFQUNBLHFCQUFBO0FDQUY7O0FERUU7RUFDRSxrQkFBQTtFQUNDLGlCQUFBO0VBQ0Msa0JBQUE7QUNDTjs7QURDRTtFQUNFLGdCQUFBO0VBQ0MsbUJBQUE7RUFDQyxZQUFBO0VBQ0Msc0JBQUE7QUNFUCIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2RlZmF1bHRlci1yZWFzb24vZGVmYXVsdGVyLXJlYXNvbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XHJcbiAgLy8gLS1iYWNrZ3JvdW5kOiB1cmwoc3JjL2Fzc2V0cy9pbWcvUmVnUGFnZS5wbmcpIG5vLXJlcGVhdCB0b3AgY2VudGVyL2NvdmVyIGZpeGVkLCAjZmZmO1xyXG4gIC0tYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uL3RoZW1lLzE1OTkwNjM5NTI2ODMuSlBFRykgbm8tcmVwZWF0IDAgMC8xMDAlIDEwMCUgO1xyXG5cclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59ICBcclxuaW9uLWl0ZW17XHJcbiAgLS1iYWNrZ3JvdW5kOiByZ2JhKDIzOCwgMjIzLCAyMjMsIDAuMzkpO1xyXG4gIC0tYm9yZGVyLXdpZHRoOiAxLjVweDt9XHJcblxyXG4gIC50b3RhbHtcclxuICAgIHBhZGRpbmctdG9wOiAxMDBweDtcclxuICAgICBtYXJnaW4tbGVmdDo0NXB4O1xyXG4gICAgICBtYXJnaW4tcmlnaHQ6NDVweDtcclxuICB9XHJcbiAgLmhlYWRpbmd7XHJcbiAgICBtYXJnaW4tbGVmdDozMCU7XHJcbiAgICAgbWFyZ2luLWJvdHRvbTo1MHB4O1xyXG4gICAgICBjb2xvcjpibGFjaztcclxuICAgICAgIGZvbnQ6IDEuNWVtIHNhbnMtc2VyaWY7XHJcbiAgfSIsImlvbi1jb250ZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vdGhlbWUvMTU5OTA2Mzk1MjY4My5KUEVHKSBuby1yZXBlYXQgMCAwLzEwMCUgMTAwJSA7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgaGVpZ2h0OiBhdXRvO1xuICB3aWR0aDogMTAwJTtcbn1cblxuaW9uLWl0ZW0ge1xuICAtLWJhY2tncm91bmQ6IHJnYmEoMjM4LCAyMjMsIDIyMywgMC4zOSk7XG4gIC0tYm9yZGVyLXdpZHRoOiAxLjVweDtcbn1cblxuLnRvdGFsIHtcbiAgcGFkZGluZy10b3A6IDEwMHB4O1xuICBtYXJnaW4tbGVmdDogNDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA0NXB4O1xufVxuXG4uaGVhZGluZyB7XG4gIG1hcmdpbi1sZWZ0OiAzMCU7XG4gIG1hcmdpbi1ib3R0b206IDUwcHg7XG4gIGNvbG9yOiBibGFjaztcbiAgZm9udDogMS41ZW0gc2Fucy1zZXJpZjtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport { AlertController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { HttpClient,HttpHeaders,HttpRequest} from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-defaulter-reason',\n  templateUrl: './defaulter-reason.page.html',\n  styleUrls: ['./defaulter-reason.page.scss'],\n})\nexport class DefaulterReasonPage implements OnInit {\n\n  private _checkinUrl =\"https://emp-manage90.herokuapp.com/attendence/check-in\"\n  //get items from localstorage items\n  items:any = {};\n  key:string =\"items\";\n  token:string;\n  empId:string;\n //set checkinItems from localstorage checkinItems\n checkinItems:any = [];\n  nextKey:string ='checkinItems';\n  \n  d: Date = new Date();\n  lat:number;\n  lon:number;\n  \n \n   myForm: FormGroup;\n\n  constructor(private router: Router,private geolocation: Geolocation,private alertCtrl: AlertController,private formsBuilder : FormBuilder,public httpClient:HttpClient,public storage:Storage) { \n    this.myForm = formsBuilder.group({\n    'lateInReason':['', Validators.compose([Validators.maxLength(50), Validators.minLength(20), Validators.required])],\n  }); \n}\nonSubmit(){\n  console.log(this.myForm.value);\n}\n\nloadMap() {\n  this.geolocation.getCurrentPosition().then((resp) => {\n\n    this.lat = resp.coords.latitude;\n    this.lon = resp.coords.longitude;\n    console.log(this.lat);\n    console.log(this.lon);\n\n  })\n}\n  ngOnInit() {\n    this.getData();\n    console.log(this.d);\n    this.loadMap();\n  }\n\n\n  sendPostRequest() {\n    \n    const headers = new HttpHeaders()\n    .append('Content-Type', 'application/json')\n    .append('Authorization',\tthis.token)\n    .append('Access-Control-Allow-Headers', 'Content-Type')\n    .append('Access-Control-Allow-Methods', \"GET, POST, DELETE, PUT\")\n    .append('Access-Control-Allow-Origin', '*');\n    \n    let inputs = {\n      \"inTime\":this.d,\n      \"lat\":this.lat,\n      \"lon\":this.lon,\n      \"empId\":this.empId,\n      \"lateInReason\":this.myForm.value.lateInReason\n    }\n    this.httpClient.post(this._checkinUrl,inputs,{headers} )\n      .subscribe(data => {\n        console.log(data);\n        this.checkinItems = data;\n          this.storage.set(this.nextKey,JSON.stringify(this.checkinItems));\n          if(!this.checkinItems.error){\n            this.alert();\n          }else{\n            this.alertError();\n          }    \n        }, error => {\n        console.log(error);\n      });\n}\n\ngetData(){\n  this.storage.get(this.key).then((val)=>{\n    if(val!=null && val!=undefined){\n      this.items =JSON.parse(val);\n      console.log(this.items.data.empId);\n      console.log(this.items.token);\n\n      this.token =this.items.token;\n      this.empId =this.items.data.empId;\n\n    }\n  })\n}\nasync alert(){\n  const alert = await this.alertCtrl.create({\n    header: 'successfull',\n    message: \"check-in successfully\",\n    buttons: [{\n      text: 'Ok',\n          handler: () => {\n            this.router.navigate(['/user-home']);\n          }\n    }]\n  });\n  await alert.present();\n}\nasync alertError(){\n  const alert = await this.alertCtrl.create({\n    header: 'Unseccessfull',\n    message: this.checkinItems.message,\n    buttons: [{\n      text: 'Ok',\n          handler: () => {\n            this.router.navigate(['/user-home']);\n          }\n    }]\n  });\n  await alert.present();\n}\n\n}\n"]}