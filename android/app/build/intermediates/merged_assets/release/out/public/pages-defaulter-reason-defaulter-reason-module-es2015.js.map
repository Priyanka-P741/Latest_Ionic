{"version":3,"sources":["./src/app/pages/defaulter-reason/defaulter-reason.page.html","./src/app/pages/defaulter-reason/defaulter-reason-routing.module.ts","./src/app/pages/defaulter-reason/defaulter-reason.module.ts","./src/app/pages/defaulter-reason/defaulter-reason.page.scss","./src/app/pages/defaulter-reason/defaulter-reason.page.ts"],"names":[],"mappings":"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","file":"pages-defaulter-reason-defaulter-reason-module-es2015.js","sourcesContent":["export default \"<!-- <ion-header>\\r\\n  <ion-toolbar>\\r\\n    <ion-title class=\\\"ion-text-center\\\">Reason Box</ion-title>\\r\\n  </ion-toolbar>\\r\\n</ion-header> -->\\r\\n\\r\\n<ion-content>\\r\\n  <form [formGroup]=\\\"myForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n\\r\\n    <div class=\\\"total\\\" >\\r\\n      <h2 class=\\\"heading\\\"  >Reason Box</h2>  \\r\\n\\r\\n    <ion-item lines=\\\"none\\\">\\r\\n  <ion-label position=\\\"floating\\\" required>\\r\\n  Please fill your reason for late Check-In.\\r\\n  </ion-label>\\r\\n  <br>\\r\\n  <ion-input formControlName=\\\"lateInReason\\\" name=\\\"lateInReason\\\" auto-grow ></ion-input>\\r\\n</ion-item>\\r\\n<ion-button shape=\\\"round\\\" color=\\\"danger\\\" [disabled]=\\\"!myForm.valid\\\"  (click)=\\\"sendPostRequest()\\\"  type=\\\"submit\\\" color=\\\"danger\\\" expand=\\\"block\\\">OK</ion-button>\\r\\n</div>\\r\\n</form>\\r\\n</ion-content>\\r\\n\\r\\n\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { DefaulterReasonPage } from './defaulter-reason.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: DefaulterReasonPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class DefaulterReasonPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule , ReactiveFormsModule } from '@angular/forms';\n\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { DefaulterReasonPageRoutingModule } from './defaulter-reason-routing.module';\n\nimport { DefaulterReasonPage } from './defaulter-reason.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    ReactiveFormsModule,\n    DefaulterReasonPageRoutingModule\n  ],\n  declarations: [DefaulterReasonPage]\n})\nexport class DefaulterReasonPageModule {}\n","export default \"ion-content {\\n  --background: url('1599063952683.JPEG') no-repeat 0 0/100% 100%;\\n  position: relative;\\n  height: auto;\\n  width: 100%;\\n}\\n\\nion-item {\\n  --background: rgba(238, 223, 223, 0.39);\\n  --border-width: 1.5px;\\n}\\n\\n.total {\\n  padding-top: 100px;\\n  margin-left: 45px;\\n  margin-right: 45px;\\n}\\n\\n.heading {\\n  margin-left: 30%;\\n  margin-bottom: 50px;\\n  color: black;\\n  font: 1.5em sans-serif;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvZGVmYXVsdGVyLXJlYXNvbi9DOlxcVXNlcnNcXEJJVkFTXFxEZXNrdG9wXFxsYXRlc3RfRW1wbG95ZWVfbWFuYWdlbWVudFxcRW1wbG95ZWVfbWFuYWdlbWVudC9zcmNcXGFwcFxccGFnZXNcXGRlZmF1bHRlci1yZWFzb25cXGRlZmF1bHRlci1yZWFzb24ucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy9kZWZhdWx0ZXItcmVhc29uL2RlZmF1bHRlci1yZWFzb24ucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBRUUsK0RBQUE7RUFFQSxrQkFBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0FDREY7O0FER0E7RUFDRSx1Q0FBQTtFQUNBLHFCQUFBO0FDQUY7O0FERUU7RUFDRSxrQkFBQTtFQUNDLGlCQUFBO0VBQ0Msa0JBQUE7QUNDTjs7QURDRTtFQUNFLGdCQUFBO0VBQ0MsbUJBQUE7RUFDQyxZQUFBO0VBQ0Msc0JBQUE7QUNFUCIsImZpbGUiOiJzcmMvYXBwL3BhZ2VzL2RlZmF1bHRlci1yZWFzb24vZGVmYXVsdGVyLXJlYXNvbi5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyJpb24tY29udGVudCB7XHJcbiAgLy8gLS1iYWNrZ3JvdW5kOiB1cmwoc3JjL2Fzc2V0cy9pbWcvUmVnUGFnZS5wbmcpIG5vLXJlcGVhdCB0b3AgY2VudGVyL2NvdmVyIGZpeGVkLCAjZmZmO1xyXG4gIC0tYmFja2dyb3VuZDogdXJsKC4uLy4uLy4uL3RoZW1lLzE1OTkwNjM5NTI2ODMuSlBFRykgbm8tcmVwZWF0IDAgMC8xMDAlIDEwMCUgO1xyXG5cclxuICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgaGVpZ2h0OiBhdXRvO1xyXG4gIHdpZHRoOiAxMDAlO1xyXG59ICBcclxuaW9uLWl0ZW17XHJcbiAgLS1iYWNrZ3JvdW5kOiByZ2JhKDIzOCwgMjIzLCAyMjMsIDAuMzkpO1xyXG4gIC0tYm9yZGVyLXdpZHRoOiAxLjVweDt9XHJcblxyXG4gIC50b3RhbHtcclxuICAgIHBhZGRpbmctdG9wOiAxMDBweDtcclxuICAgICBtYXJnaW4tbGVmdDo0NXB4O1xyXG4gICAgICBtYXJnaW4tcmlnaHQ6NDVweDtcclxuICB9XHJcbiAgLmhlYWRpbmd7XHJcbiAgICBtYXJnaW4tbGVmdDozMCU7XHJcbiAgICAgbWFyZ2luLWJvdHRvbTo1MHB4O1xyXG4gICAgICBjb2xvcjpibGFjaztcclxuICAgICAgIGZvbnQ6IDEuNWVtIHNhbnMtc2VyaWY7XHJcbiAgfSIsImlvbi1jb250ZW50IHtcbiAgLS1iYWNrZ3JvdW5kOiB1cmwoLi4vLi4vLi4vdGhlbWUvMTU5OTA2Mzk1MjY4My5KUEVHKSBuby1yZXBlYXQgMCAwLzEwMCUgMTAwJSA7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgaGVpZ2h0OiBhdXRvO1xuICB3aWR0aDogMTAwJTtcbn1cblxuaW9uLWl0ZW0ge1xuICAtLWJhY2tncm91bmQ6IHJnYmEoMjM4LCAyMjMsIDIyMywgMC4zOSk7XG4gIC0tYm9yZGVyLXdpZHRoOiAxLjVweDtcbn1cblxuLnRvdGFsIHtcbiAgcGFkZGluZy10b3A6IDEwMHB4O1xuICBtYXJnaW4tbGVmdDogNDVweDtcbiAgbWFyZ2luLXJpZ2h0OiA0NXB4O1xufVxuXG4uaGVhZGluZyB7XG4gIG1hcmdpbi1sZWZ0OiAzMCU7XG4gIG1hcmdpbi1ib3R0b206IDUwcHg7XG4gIGNvbG9yOiBibGFjaztcbiAgZm9udDogMS41ZW0gc2Fucy1zZXJpZjtcbn0iXX0= */\";","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport { AlertController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { HttpClient,HttpHeaders,HttpRequest} from '@angular/common/http';\nimport { Router } from '@angular/router';\n\n\n@Component({\n  selector: 'app-defaulter-reason',\n  templateUrl: './defaulter-reason.page.html',\n  styleUrls: ['./defaulter-reason.page.scss'],\n})\nexport class DefaulterReasonPage implements OnInit {\n\n  private _checkinUrl =\"https://emp-manage90.herokuapp.com/attendence/check-in\"\n  //get items from localstorage items\n  items:any = {};\n  key:string =\"items\";\n  token:string;\n  empId:string;\n //set checkinItems from localstorage checkinItems\n checkinItems:any = [];\n  nextKey:string ='checkinItems';\n  \n  d: Date = new Date();\n  lat:number;\n  lon:number;\n  \n \n   myForm: FormGroup;\n\n  constructor(private router: Router,private geolocation: Geolocation,private alertCtrl: AlertController,private formsBuilder : FormBuilder,public httpClient:HttpClient,public storage:Storage) { \n    this.myForm = formsBuilder.group({\n    'lateInReason':['', Validators.compose([Validators.maxLength(50), Validators.minLength(20), Validators.required])],\n  }); \n}\nonSubmit(){\n  console.log(this.myForm.value);\n}\n\nloadMap() {\n  this.geolocation.getCurrentPosition().then((resp) => {\n\n    this.lat = resp.coords.latitude;\n    this.lon = resp.coords.longitude;\n    console.log(this.lat);\n    console.log(this.lon);\n\n  })\n}\n  ngOnInit() {\n    this.getData();\n    console.log(this.d);\n    this.loadMap();\n  }\n\n\n  sendPostRequest() {\n    \n    const headers = new HttpHeaders()\n    .append('Content-Type', 'application/json')\n    .append('Authorization',\tthis.token)\n    .append('Access-Control-Allow-Headers', 'Content-Type')\n    .append('Access-Control-Allow-Methods', \"GET, POST, DELETE, PUT\")\n    .append('Access-Control-Allow-Origin', '*');\n    \n    let inputs = {\n      \"inTime\":this.d,\n      \"lat\":this.lat,\n      \"lon\":this.lon,\n      \"empId\":this.empId,\n      \"lateInReason\":this.myForm.value.lateInReason\n    }\n    this.httpClient.post(this._checkinUrl,inputs,{headers} )\n      .subscribe(data => {\n        console.log(data);\n        this.checkinItems = data;\n          this.storage.set(this.nextKey,JSON.stringify(this.checkinItems));\n          if(!this.checkinItems.error){\n            this.alert();\n          }else{\n            this.alertError();\n          }    \n        }, error => {\n        console.log(error);\n      });\n}\n\ngetData(){\n  this.storage.get(this.key).then((val)=>{\n    if(val!=null && val!=undefined){\n      this.items =JSON.parse(val);\n      console.log(this.items.data.empId);\n      console.log(this.items.token);\n\n      this.token =this.items.token;\n      this.empId =this.items.data.empId;\n\n    }\n  })\n}\nasync alert(){\n  const alert = await this.alertCtrl.create({\n    header: 'successfull',\n    message: \"check-in successfully\",\n    buttons: [{\n      text: 'Ok',\n          handler: () => {\n            this.router.navigate(['/user-home']);\n          }\n    }]\n  });\n  await alert.present();\n}\nasync alertError(){\n  const alert = await this.alertCtrl.create({\n    header: 'Unseccessfull',\n    message: this.checkinItems.message,\n    buttons: [{\n      text: 'Ok',\n          handler: () => {\n            this.router.navigate(['/user-home']);\n          }\n    }]\n  });\n  await alert.present();\n}\n\n}\n"],"sourceRoot":"webpack:///"}