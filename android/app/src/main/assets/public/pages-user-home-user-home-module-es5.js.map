{"version":3,"sources":["webpack:///src/app/pages/user-home/user-home.page.html","webpack:///src/app/pages/user-home/user-home-routing.module.ts","webpack:///src/app/pages/user-home/user-home.module.ts","webpack:///src/app/pages/user-home/user-home.page.scss","webpack:///src/app/pages/user-home/user-home.page.ts"],"names":["routes","path","component","UserHomePageRoutingModule","imports","forChild","exports","UserHomePageModule","declarations","UserHomePage","router","httpClient","storage","device","geolocation","nativeGeocoder","alertCtrl","deviceId","device_id","disappear","x","flag","_checkinUrl","_checkoutUrl","items","key","checkinItems","nextKey","d","Date","h","getHours","m","getMinutes","t","time","Number","getCurrentPosition","then","resp","latitude","coords","longitude","latLng","google","maps","LatLng","mapOptions","center","zoom","mapTypeId","MapTypeId","ROADMAP","getAddressFromCoords","map","Map","mapElement","nativeElement","addListener","lat","lng","error","console","log","options","useLocale","maxResults","reverseGeocode","result","address","responseAddress","Object","entries","value","length","push","reverse","slice","loadMap","setInterval","locate","today","now","getData","get","val","undefined","JSON","parse","token","data","empId","navigate","sendPostRequest","headers","append","inputs","post","subscribe","set","stringify","alert","alertError","create","header","message","buttons","text","role","handler","bfunction","confirm","present","sendPutRequest","put","disabledButton","selector","template"],"mappings":"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","file":"pages-user-home-user-home-module-es5.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title slot=\\\"start\\\">Welcome User</ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content [fullscreen]=\\\"true\\\">\\n  <ion-grid text-center>\\n    <ion-row *ngIf=\\\"disappear\\\">\\n      <ion-col size=\\\"6\\\">\\n        <div *ngIf=\\\"disappear\\\">\\n          <ion-button color=\\\"tertiary\\\" expand=\\\"full\\\" (click)='afunction()'>Check In</ion-button>\\n        </div>\\n      </ion-col>\\n      <ion-col size=\\\"6\\\" *ngIf=\\\"disappear\\\">\\n        <ion-button color=\\\"tertiary\\\" expand=\\\"full\\\" (click)='showConfirm()' [disabled]='disabledButton'>Check Out</ion-button>\\n      </ion-col>\\n    </ion-row>\\n    <ion-row *ngIf=\\\"!disappear\\\">\\n      <ion-col size=\\\"4\\\"></ion-col>\\n      <ion-col size=\\\"4\\\">         \\n         <ion-button color=\\\"tertiary\\\" expand=\\\"full\\\" (click)='showConfirm()' [disabled]='disabledButton'>Check Out</ion-button>\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n\\n  <div class=\\\"map-wrapper\\\">\\n    <div id=\\\"map_center\\\">\\n      <img src=\\\"assets/icon/location-marker.png\\\" />\\n    </div>\\n    <div #map id=\\\"map\\\"></div>\\n  </div>\\n  <ion-button color=\\\"warning\\\" expand=\\\"full\\\" (click)=\\\"loadMap()\\\">Find me</ion-button>\\n\\n  <ion-grid>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\">\\n        <b> Current Date</b>\\n      </ion-col>\\n      <ion-col>\\n        {{ today | date: 'dd/MM/yyyy' }}\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\">\\n        <b> Device ID</b>\\n      </ion-col>\\n      <ion-col>\\n        {{ deviceId }}\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\">\\n        <b>Current Time</b>\\n      </ion-col>\\n      <ion-col>\\n        {{ today | date: 'HH:mm'}}\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\">\\n        <b>Lattitude</b>\\n      </ion-col>\\n      <ion-col>\\n        {{latitude}}\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\">\\n        <b>Longitude</b>\\n      </ion-col>\\n      <ion-col>\\n        {{longitude}}\\n      </ion-col>\\n    </ion-row>\\n    <ion-row>\\n      <ion-col size=\\\"3\\\">\\n        <b>Address</b>\\n      </ion-col>\\n      <ion-col>\\n        {{address}}\\n      </ion-col>\\n    </ion-row>\\n  </ion-grid>\\n  <ion-button color=\\\"tertiary\\\" expand=\\\"full\\\" href=\\\"tel:+91 83340 95538\\\">Contact</ion-button>\\n</ion-content>\";","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { UserHomePage } from './user-home.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: UserHomePage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class UserHomePageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { UserHomePageRoutingModule } from './user-home-routing.module';\n\nimport { UserHomePage } from './user-home.page';\n\n// import { AgmCoreModule } from '@agm/core';\n\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    // AgmCoreModule,\n    UserHomePageRoutingModule\n  ],\n  declarations: [UserHomePage]\n})\nexport class UserHomePageModule {}\n","export default \"ion-card-title {\\n  text-align: center;\\n}\\n\\n#map_canvas {\\n  width: 90%;\\n  height: 80%;\\n  border: 1px solid red;\\n}\\n\\n#address {\\n  padding: 10px;\\n  font-size: 18px;\\n  font-weight: bold;\\n}\\n\\n#map {\\n  width: 100%;\\n  height: 70vh;\\n}\\n\\n.map-wrapper {\\n  position: relative;\\n}\\n\\n.map-wrapper #map_center {\\n  position: absolute;\\n  z-index: 99;\\n  height: 40px;\\n  width: 40px;\\n  top: 50%;\\n  left: 50%;\\n  margin-left: -21px;\\n  margin-top: -41px;\\n}\\n\\nion-toolbar {\\n  --background: rgb(56, 128, 255);\\n}\\n\\nion-title {\\n  --color:white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcGFnZXMvdXNlci1ob21lL0M6XFxVc2Vyc1xcQklWQVNcXERlc2t0b3BcXGxhdGVzdF9FbXBsb3llZV9tYW5hZ2VtZW50XFxFbXBsb3llZV9tYW5hZ2VtZW50L3NyY1xcYXBwXFxwYWdlc1xcdXNlci1ob21lXFx1c2VyLWhvbWUucGFnZS5zY3NzIiwic3JjL2FwcC9wYWdlcy91c2VyLWhvbWUvdXNlci1ob21lLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFLQTtFQUNJLGtCQUFBO0FDSko7O0FETUE7RUFDSSxVQUFBO0VBQ0EsV0FBQTtFQUNBLHFCQUFBO0FDSEo7O0FET0U7RUFDRSxhQUFBO0VBQ0EsZUFBQTtFQUNBLGlCQUFBO0FDSko7O0FET0U7RUFDRSxXQUFBO0VBQ0EsWUFBQTtBQ0pKOztBRE9FO0VBQ0Usa0JBQUE7QUNKSjs7QURNSTtFQUNFLGtCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxXQUFBO0VBQ0EsUUFBQTtFQUNBLFNBQUE7RUFDQSxrQkFBQTtFQUNBLGlCQUFBO0FDSk47O0FEUUE7RUFDRSwrQkFBQTtBQ0xGOztBRFFFO0VBQ0UsYUFBQTtBQ0xKIiwiZmlsZSI6InNyYy9hcHAvcGFnZXMvdXNlci1ob21lL3VzZXItaG9tZS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBhZ20tbWFwe1xuLy8gICAgIGRpc3BsYXk6IGJsb2NrO1xuLy8gICAgIHdpZHRoOiAxMDAlO1xuLy8gICAgIGhlaWdodDogMTAwJTtcbi8vIH1cbmlvbi1jYXJkLXRpdGxle1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cbiNtYXBfY2FudmFzIHtcbiAgICB3aWR0aDogOTAlO1xuICAgIGhlaWdodDogODAlO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkIHJlZDtcbiAgfVxuICBcbiAgXG4gICNhZGRyZXNzIHtcbiAgICBwYWRkaW5nOiAxMHB4O1xuICAgIGZvbnQtc2l6ZTogMThweDtcbiAgICBmb250LXdlaWdodDogYm9sZDtcbiAgfVxuICBcbiAgI21hcCB7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiA3MHZoO1xuICB9XG4gIFxuICAubWFwLXdyYXBwZXIge1xuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgXG4gICAgI21hcF9jZW50ZXIge1xuICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAgICAgei1pbmRleDogOTk7XG4gICAgICBoZWlnaHQ6IDQwcHg7XG4gICAgICB3aWR0aDogNDBweDtcbiAgICAgIHRvcDogNTAlO1xuICAgICAgbGVmdDogNTAlO1xuICAgICAgbWFyZ2luLWxlZnQ6IC0yMXB4O1xuICAgICAgbWFyZ2luLXRvcDogLTQxcHg7XG4gICAgfVxuICB9XG5cbmlvbi10b29sYmFye1xuICAtLWJhY2tncm91bmQ6IHJnYig1NiwgMTI4LCAyNTUpO1xuICB9XG4gIFxuICBpb24tdGl0bGV7XG4gICAgLS1jb2xvclx0OndoaXRlO1xuICB9XG5cblxuICAiLCJpb24tY2FyZC10aXRsZSB7XG4gIHRleHQtYWxpZ246IGNlbnRlcjtcbn1cblxuI21hcF9jYW52YXMge1xuICB3aWR0aDogOTAlO1xuICBoZWlnaHQ6IDgwJTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmVkO1xufVxuXG4jYWRkcmVzcyB7XG4gIHBhZGRpbmc6IDEwcHg7XG4gIGZvbnQtc2l6ZTogMThweDtcbiAgZm9udC13ZWlnaHQ6IGJvbGQ7XG59XG5cbiNtYXAge1xuICB3aWR0aDogMTAwJTtcbiAgaGVpZ2h0OiA3MHZoO1xufVxuXG4ubWFwLXdyYXBwZXIge1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG59XG4ubWFwLXdyYXBwZXIgI21hcF9jZW50ZXIge1xuICBwb3NpdGlvbjogYWJzb2x1dGU7XG4gIHotaW5kZXg6IDk5O1xuICBoZWlnaHQ6IDQwcHg7XG4gIHdpZHRoOiA0MHB4O1xuICB0b3A6IDUwJTtcbiAgbGVmdDogNTAlO1xuICBtYXJnaW4tbGVmdDogLTIxcHg7XG4gIG1hcmdpbi10b3A6IC00MXB4O1xufVxuXG5pb24tdG9vbGJhciB7XG4gIC0tYmFja2dyb3VuZDogcmdiKDU2LCAxMjgsIDI1NSk7XG59XG5cbmlvbi10aXRsZSB7XG4gIC0tY29sb3I6d2hpdGU7XG59Il19 */\";","import { Component, OnInit, ViewChild, ElementRef } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Device } from '@ionic-native/device/ngx';\nimport { Geolocation } from '@ionic-native/geolocation/ngx';\nimport { NativeGeocoder, NativeGeocoderResult, NativeGeocoderOptions } from '@ionic-native/native-geocoder/ngx';\nimport { AlertController } from '@ionic/angular';\nimport { Storage } from '@ionic/storage';\nimport { HttpClient,HttpHeaders,HttpRequest} from '@angular/common/http';\n\ndeclare var google;\n\n@Component({\n  selector: 'app-user-home',\n  templateUrl: './user-home.page.html',\n  styleUrls: ['./user-home.page.scss'],\n})\nexport class UserHomePage implements OnInit {\n  device_id:string;\n  deviceId:string = this.device_id;\n  \n  disabledButton;\n\n  disappear: boolean = true;\n\n  @ViewChild('map', { static: false }) mapElement: ElementRef;\n  map: any;\n  address: string;\n\n  x: Number = 30;  // 30 Seconds\n\n  flag=0;\n\n  latitude:any;\n  longitude:any;\n\n  private _checkinUrl =\"https://emp-manage90.herokuapp.com/attendence/check-in\"\n  private _checkoutUrl =\"https://emp-manage90.herokuapp.com/attendence/check-out\"\n  //get items from localstorage items\n  items:any = {};\n  key:string =\"items\";\n  \n\n  token:any;\n  empId:any;\n//set checkinItems in localstorage checkinItems\n  checkinItems:any = [];\n  nextKey:string ='checkinItems';\n  public today;\n\n  d: Date = new Date();\n  h = this.d.getHours();\n  m = this.d.getMinutes();\n  t = \"\" + this.h + this.m;\n  time= Number(this.t);\n\n\n  constructor(private router: Router,public httpClient:HttpClient,public storage:Storage, private device: Device, private geolocation: Geolocation,\n    \n    private nativeGeocoder: NativeGeocoder, private alertCtrl: AlertController) {\n   }\n   \n \n\n  loadMap() {\n    this.geolocation.getCurrentPosition().then((resp) => {\n\n      this.latitude = resp.coords.latitude;\n      this.longitude = resp.coords.longitude;\n\n      let latLng = new google.maps.LatLng(resp.coords.latitude, resp.coords.longitude);\n      let mapOptions = {\n        center: latLng,\n        zoom: 15,\n        mapTypeId: google.maps.MapTypeId.ROADMAP\n      }\n\n      this.getAddressFromCoords(resp.coords.latitude, resp.coords.longitude);\n\n      this.map = new google.maps.Map(this.mapElement.nativeElement, mapOptions);\n\n      this.map.addListener('dragend', () => {\n\n        this.latitude = this.map.center.lat();\n        this.longitude = this.map.center.lng();\n\n        this.getAddressFromCoords(this.map.center.lat(), this.map.center.lng())\n      });\n\n    }).catch((error) => {\n      console.log('Error getting location', error);\n    });\n  }\n\n  getAddressFromCoords(latitude, longitude) {\n    console.log(\"getAddressFromCoords \" + latitude + \" \" + longitude);\n    let options: NativeGeocoderOptions = {\n      useLocale: true,\n      maxResults: 5\n    };\n\n    this.nativeGeocoder.reverseGeocode(latitude, longitude, options)\n      .then((result: NativeGeocoderResult[]) => {\n        this.address = \"\";\n        let responseAddress = [];\n        for (let [key, value] of Object.entries(result[0])) {\n          if (value.length > 0)\n            responseAddress.push(value);\n\n        }\n        responseAddress.reverse();\n        for (let value of responseAddress) {\n          this.address += value + \", \";\n        }\n        this.address = this.address.slice(0, -2);\n      })\n      .catch((error: any) => {\n        this.address = \"Address Not Available!\";\n      });\n\n  }\n\nlocate(){\nconsole.log('Latitude:' + this.latitude + 'and Longitude:' + this.longitude)\n}\n\n\n  ngOnInit() {\n\n    this.loadMap();\n\n    console.log(this.d);\n\n    setInterval(()=>{\n    this.locate();\n    }, 30000)\n\n    setInterval(()=>{\n    this.today = Date.now() }, 1000)\n\n    this.getData();\n    \n  }\n\n  // read the data from local storage\n  getData(){\n    this.storage.get(this.key).then((val)=>{\n      if(val!=null && val!=undefined){\n        this.items =JSON.parse(val);\n        this.token =this.items.token;\n        console.log(this.items.token);\n        console.log(this.items.data.empId);\n        this.empId =this.items.data.empId;\n        this.device_id =this.items.data.device_id;\n      }\n    })\n  }\n\n//condition for check in\n\n  afunction() {\n    (this.time > 1000) || (this.time > 100)  ? this.flag=1 : console.log ('time ok');\n    console.log(this.time);\n    //this.disappear= !this.disappear;\n    if(this.flag==1){\n      this.router.navigate(['/defaulter-reason']);\n      this.disappear= !this.disappear;\n    }\n    else{\n      this.sendPostRequest();\n      } \n  }\n\n\n  sendPostRequest() {\n    const headers = new HttpHeaders()\n    //.append('Content-Type', 'application/json')\n    .append('Authorization',\tthis.token)\n    .append('Access-Control-Allow-Headers', '*')\n    .append('Access-Control-Allow-Methods', \"GET, POST, DELETE, PUT\")\n    .append('Access-Control-Allow-Origin', '*');\n    \n    let inputs = {\n      \"inTime\":\"\",\n      \"lat\":this.latitude,\n      \"lon\":this.longitude,\n      \"empId\":this.empId\n    }\n    this.httpClient.post(this._checkinUrl,inputs,{headers} )\n      .subscribe(data => {\n        console.log(data);\n        this.checkinItems = data;\n          this.storage.set(this.nextKey,JSON.stringify(this.checkinItems));\n          if(!this.checkinItems.error){\n            alert(\"You are Checked-In\");\n            //this.disappear= !this.disappear;\n          }else{\n            this.alertError();\n          }    \n        }, error => {\n        console.log(error);\n      });\n}\n  \n//alert for check out\n\nasync showConfirm() { \n  const confirm = await this.alertCtrl.create({ \n  header: 'Confirmation', \n  message: 'Are you sure you want to checkout?', \n  buttons: [{ \n  text: 'Yes',\n  role: 'Ok', \n  handler: () => {  \n    this.bfunction();\n  } \n}, { \n  text: 'No', \n  role: 'Cancel',\n  handler: () => { \n    this.router.navigate(['/user-home']);\n  } }] \n}); \n  await confirm.present(); \n} \n\n//condition for check out\n\n  bfunction(){\n    (this.time < 1800) || (this.time < 180) ? this.flag=1 : console.log ('time ok');\n    console.log(this.time);\n    //this.checkOutDisabled();\n    if(this.flag==1){\n      this.router.navigate(['/defaulter-checkout']);\n    }\n    else{\n          this.sendPutRequest();\n    } \n  } \n   \n    \n  sendPutRequest(){\n    const headers = new HttpHeaders()\n      .append('Content-Type', 'application/json')\n      .append('Authorization',\tthis.token)\n      .append('Access-Control-Allow-Headers', 'Content-Type')\n      .append('Access-Control-Allow-Methods', \"GET, POST, DELETE, PUT\")\n      .append('Access-Control-Allow-Origin', '*');\n      console.log(this.empId,this.token)\n\n      let inputs = {\n        \"outTime\":this.d,\n        \"empId\":this.empId\n      }\n      this.httpClient.put(this._checkoutUrl,inputs,{headers} )\n        .subscribe(data => {\n          console.log(data);\n          this.checkinItems = data;\n            this.storage.set(this.nextKey,JSON.stringify(this.checkinItems));\n            if(!this.checkinItems.error){\n           alert(\"You are Checked-Out\");\n            }else{\n              this.alertError();\n            }\n          }, error => {\n          console.log(error);\n        });\n  }\n  \n\n  async alertError(){\n    const alert = await this.alertCtrl.create({\n      header: 'Unseccessfull',\n      message: this.checkinItems.message,\n      buttons: [{\n        text: 'Ok',\n            handler: () => {\n              this.router.navigate(['user-home']);\n            }\n      }]\n    });\n    await alert.present();\n  }\n\n  checkOutDisabled(){\n    this.disabledButton=true;\n  }  \n\n  }\n"]}